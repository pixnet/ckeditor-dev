(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineMode("javascript",function(oa,t){function q(a,d,e){E=a;I=e;return d}function w(a,d){var e=a.next();if('"'==e||"'"==e)return d.tokenize=pa(e),d.tokenize(a,d);if("."==e&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return q("number","number");if("."==e&&a.match(".."))return q("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(e))return q(e);
if("\x3d"==e&&a.eat("\x3e"))return q("\x3d\x3e","operator");if("0"==e&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),q("number","number");if(/\d/.test(e))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),q("number","number");if("/"==e){if(a.eat("*"))return d.tokenize=J,J(a,d);if(a.eat("/"))return a.skipToEnd(),q("comment","comment");if("operator"==d.lastType||"keyword c"==d.lastType||"sof"==d.lastType||/^[\[{}\(,;:]$/.test(d.lastType)){a:for(var e=!1,c,b=!1;null!=(c=a.next());){if(!e){if("/"==c&&!b)break a;
"["==c?b=!0:b&&"]"==c&&(b=!1)}e=!e&&"\\"==c}a.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return q("regexp","string-2")}a.eatWhile(K);return q("operator","operator",a.current())}if("`"==e)return d.tokenize=Q,Q(a,d);if("#"==e)return a.skipToEnd(),q("error","error");if(K.test(e))return a.eatWhile(K),q("operator","operator",a.current());if(R.test(e))return a.eatWhile(R),e=a.current(),(c=ba.propertyIsEnumerable(e)&&ba[e])&&"."!=d.lastType?q(c.type,c.style,e):q("variable","variable",e)}function pa(a){return function(d,
e){var c=!1,b;if(L&&"@"==d.peek()&&d.match(qa))return e.tokenize=w,q("jsonld-keyword","meta");for(;null!=(b=d.next())&&(b!=a||c);)c=!c&&"\\"==b;c||(e.tokenize=w);return q("string","string")}}function J(a,d){for(var b=!1,c;c=a.next();){if("/"==c&&b){d.tokenize=w;break}b="*"==c}return q("comment","comment")}function Q(a,d){for(var b=!1,c;null!=(c=a.next());){if(!b&&("`"==c||"$"==c&&a.eat("{"))){d.tokenize=w;break}b=!b&&"\\"==c}return q("quasi","string-2",a.current())}function S(a,d){d.fatArrowAt&&(d.fatArrowAt=
null);var b=a.string.indexOf("\x3d\x3e",a.start);if(!(0>b)){for(var c=0,f=!1,b=b-1;0<=b;--b){var h=a.string.charAt(b),g="([{}])".indexOf(h);if(0<=g&&3>g){if(!c){++b;break}if(0==--c)break}else if(3<=g&&6>g)++c;else if(R.test(h))f=!0;else{if(/["'\/]/.test(h))return;if(f&&!c){++b;break}}}f&&!c&&(d.fatArrowAt=b)}}function ca(a,d,b,c,f,h){this.indented=a;this.column=d;this.type=b;this.prev=f;this.info=h;null!=c&&(this.align=c)}function g(){for(var a=arguments.length-1;0<=a;a--)f.cc.push(arguments[a])}
function b(){g.apply(null,arguments);return!0}function x(a){function d(b){for(;b;b=b.next)if(b.name==a)return!0;return!1}var b=f.state;b.context?(f.marked="def",d(b.localVars)||(b.localVars={name:a,next:b.localVars})):!d(b.globalVars)&&t.globalVars&&(b.globalVars={name:a,next:b.globalVars})}function y(){f.state.context={prev:f.state.context,vars:f.state.localVars};f.state.localVars=ra}function z(){f.state.localVars=f.state.context.vars;f.state.context=f.state.context.prev}function l(a,b){var e=function(){var c=
f.state,e=c.indented;if("stat"==c.lexical.type)e=c.lexical.indented;else for(var h=c.lexical;h&&")"==h.type&&h.align;h=h.prev)e=h.indented;c.lexical=new ca(e,f.stream.column(),a,null,c.lexical,b)};e.lex=!0;return e}function k(){var a=f.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function m(a){function d(e){return e==a?b():";"==a?g():b(d)}return d}function r(a,d){return"var"==a?b(l("vardef",d.length),T,m(";"),k):"keyword a"==a?b(l("form"),n,
r,k):"keyword b"==a?b(l("form"),r,k):"{"==a?b(l("}"),U,k):";"==a?b():"if"==a?("else"==f.state.lexical.info&&f.state.cc[f.state.cc.length-1]==k&&f.state.cc.pop()(),b(l("form"),n,r,k,da)):"function"==a?b(v):"for"==a?b(l("form"),ea,r,k):"variable"==a?b(l("stat"),sa):"switch"==a?b(l("form"),n,l("}","switch"),m("{"),U,k,k):"case"==a?b(n,m(":")):"default"==a?b(m(":")):"catch"==a?b(l("form"),y,m("("),V,m(")"),r,k,z):"module"==a?b(l("form"),y,ta,z,k):"class"==a?b(l("form"),ua,k):"export"==a?b(l("form"),va,
k):"import"==a?b(l("form"),wa,k):g(l("stat"),n,m(";"),k)}function n(a){return fa(a,!1)}function u(a){return fa(a,!0)}function fa(a,d){if(f.state.fatArrowAt==f.stream.start){var e=d?ga:ha;if("("==a)return b(y,l(")"),F(A,")"),k,m("\x3d\x3e"),e,z);if("variable"==a)return g(y,A,m("\x3d\x3e"),e,z)}e=d?W:M;return xa.hasOwnProperty(a)?b(e):"function"==a?b(v,e):"keyword c"==a?b(d?ia:X):"("==a?b(l(")"),X,N,m(")"),k,e):"operator"==a||"spread"==a?b(d?u:n):"["==a?b(l("]"),ya,k,e):"{"==a?G(za,"}",null,e):"quasi"==
a?g(O,e):b()}function X(a){return a.match(/[;\}\)\],]/)?g():g(n)}function ia(a){return a.match(/[;\}\)\],]/)?g():g(u)}function M(a,d){return","==a?b(n):W(a,d,!1)}function W(a,d,e){var c=0==e?M:W,f=0==e?n:u;if("\x3d\x3e"==a)return b(y,e?ga:ha,z);if("operator"==a)return/\+\+|--/.test(d)?b(c):"?"==d?b(n,m(":"),f):b(f);if("quasi"==a)return g(O,c);if(";"!=a){if("("==a)return G(u,")","call",c);if("."==a)return b(Aa,c);if("["==a)return b(l("]"),X,m("]"),k,c)}}function O(a,d){return"quasi"!=a?g():"${"!=d.slice(d.length-
2)?b(O):b(n,Ba)}function Ba(a){if("}"==a)return f.marked="string-2",f.state.tokenize=Q,b(O)}function ha(a){S(f.stream,f.state);return g("{"==a?r:n)}function ga(a){S(f.stream,f.state);return g("{"==a?r:u)}function sa(a){return":"==a?b(k,r):g(M,m(";"),k)}function Aa(a){if("variable"==a)return f.marked="property",b()}function za(a,d){if("variable"==a||"keyword"==f.style)return f.marked="property","get"==d||"set"==d?b(Ca):b(H);if("number"==a||"string"==a)return f.marked=L?"property":f.style+" property",
b(H);if("jsonld-keyword"==a)return b(H);if("["==a)return b(n,m("]"),H)}function Ca(a){if("variable"!=a)return g(H);f.marked="property";return b(v)}function H(a){if(":"==a)return b(u);if("("==a)return g(v)}function F(a,d){function e(c){return","==c?(c=f.state.lexical,"call"==c.info&&(c.pos=(c.pos||0)+1),b(a,e)):c==d?b():b(m(d))}return function(c){return c==d?b():g(a,e)}}function G(a,d,e){for(var c=3;c<arguments.length;c++)f.cc.push(arguments[c]);return b(l(d,e),F(a,d),k)}function U(a){return"}"==a?
b():g(r,U)}function ja(a){if(ka&&":"==a)return b(Da)}function Ea(a,d){if("\x3d"==d)return b(u)}function Da(a){if("variable"==a)return f.marked="variable-3",b()}function T(){return g(A,ja,Y,Fa)}function A(a,d){if("variable"==a)return x(d),b();if("["==a)return G(A,"]");if("{"==a)return G(Ga,"}")}function Ga(a,d){if("variable"==a&&!f.stream.match(/^\s*:/,!1))return x(d),b(Y);"variable"==a&&(f.marked="property");return b(m(":"),A,Y)}function Y(a,d){if("\x3d"==d)return b(u)}function Fa(a){if(","==a)return b(T)}
function da(a,d){if("keyword b"==a&&"else"==d)return b(l("form","else"),r,k)}function ea(a){if("("==a)return b(l(")"),Ha,m(")"),k)}function Ha(a){return"var"==a?b(T,m(";"),P):";"==a?b(P):"variable"==a?b(Ia):g(n,m(";"),P)}function Ia(a,d){return"in"==d||"of"==d?(f.marked="keyword",b(n)):b(M,P)}function P(a,d){return";"==a?b(la):"in"==d||"of"==d?(f.marked="keyword",b(n)):g(n,m(";"),la)}function la(a){")"!=a&&b(n)}function v(a,d){if("*"==d)return f.marked="keyword",b(v);if("variable"==a)return x(d),
b(v);if("("==a)return b(y,l(")"),F(V,")"),k,r,z)}function V(a){return"spread"==a?b(V):g(A,ja,Ea)}function ua(a,d){if("variable"==a)return x(d),b(ma)}function ma(a,d){if("extends"==d)return b(n,ma);if("{"==a)return b(l("}"),B,k)}function B(a,d){if("variable"==a||"keyword"==f.style){if("static"==d)return f.marked="keyword",b(B);f.marked="property";return"get"==d||"set"==d?b(Ja,v,B):b(v,B)}if("*"==d)return f.marked="keyword",b(B);if(";"==a)return b(B);if("}"==a)return b()}function Ja(a){if("variable"!=
a)return g();f.marked="property";return b()}function ta(a,d){if("string"==a)return b(r);if("variable"==a)return x(d),b(Z)}function va(a,d){return"*"==d?(f.marked="keyword",b(Z,m(";"))):"default"==d?(f.marked="keyword",b(n,m(";"))):g(r)}function wa(a){return"string"==a?b():g(aa,Z)}function aa(a,d){if("{"==a)return G(aa,"}");"variable"==a&&x(d);"*"==d&&(f.marked="keyword");return b(Ka)}function Ka(a,d){if("as"==d)return f.marked="keyword",b(aa)}function Z(a,d){if("from"==d)return f.marked="keyword",
b(n)}function ya(a){return"]"==a?b():g(u,La)}function La(a){return"for"==a?g(N,m("]")):","==a?b(F(ia,"]")):g(F(u,"]"))}function N(a){if("for"==a)return b(ea,N);if("if"==a)return b(n,N)}var C=oa.indentUnit,na=t.statementIndent,L=t.jsonld,D=t.json||L,ka=t.typescript,R=t.wordCharacters||/[\w$\xa1-\uffff]/,ba=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),e=a("keyword b"),c=a("keyword c"),f=a("operator"),h={type:"atom",style:"atom"},b={"if":a("if"),"while":b,"with":b,"else":e,
"do":e,"try":e,"finally":e,"return":c,"break":c,"continue":c,"new":c,"delete":c,"throw":c,"debugger":c,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":f,"typeof":f,"instanceof":f,"true":h,"false":h,"null":h,undefined:h,NaN:h,Infinity:h,"this":a("this"),module:a("module"),"class":a("class"),"super":a("atom"),yield:c,"export":a("export"),"import":a("import"),"extends":c};if(ka){var e=
{type:"variable",style:"variable-3"},e={"interface":a("interface"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),string:e,number:e,bool:e,any:e},g;for(g in e)b[g]=e[g]}return b}(),K=/[+\-*&%=<>!?|~^]/,qa=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,E,I,xa={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},f={state:null,column:null,
marked:null,cc:null},ra={name:"this",next:{name:"arguments"}};k.lex=!0;return{startState:function(a){a={tokenize:w,lastType:"sof",cc:[],lexical:new ca((a||0)-C,0,"block",!1),localVars:t.localVars,context:t.localVars&&{vars:t.localVars},indented:0};t.globalVars&&"object"==typeof t.globalVars&&(a.globalVars=t.globalVars);return a},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),S(a,b));if(b.tokenize!=J&&a.eatSpace())return null;var e=
b.tokenize(a,b);if("comment"==E)return e;b.lastType="operator"!=E||"++"!=I&&"--"!=I?E:"incdec";a:{var c=E,g=I,h=b.cc;f.state=b;f.stream=a;f.marked=null;f.cc=h;f.style=e;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((h.length?h.pop():D?n:r)(c,g)){for(;h.length&&h[h.length-1].lex;)h.pop()();if(f.marked){e=f.marked;break a}if(c="variable"==c)b:{for(c=b.localVars;c;c=c.next)if(c.name==g){c=!0;break b}for(h=b.context;h;h=h.prev)for(c=h.vars;c;c=c.next)if(c.name==g){c=!0;break b}c=void 0}if(c){e=
"variable-2";break a}break a}}return e},indent:function(a,b){if(a.tokenize==J)return p.Pass;if(a.tokenize!=w)return 0;var e=b&&b.charAt(0),c=a.lexical;if(!/^\s*else\b/.test(b))for(var f=a.cc.length-1;0<=f;--f){var g=a.cc[f];if(g==k)c=c.prev;else if(g!=da)break}"stat"==c.type&&"}"==e&&(c=c.prev);na&&")"==c.type&&"stat"==c.prev.type&&(c=c.prev);f=c.type;g=e==f;return"vardef"==f?c.indented+("operator"==a.lastType||","==a.lastType?c.info+1:0):"form"==f&&"{"==e?c.indented:"form"==f?c.indented+C:"stat"==
f?(e=c.indented,c="operator"==a.lastType||","==a.lastType||K.test(b.charAt(0))||/[,.]/.test(b.charAt(0)),e+(c?na||C:0)):"switch"!=c.info||g||0==t.doubleIndentSwitch?c.align?c.column+(g?0:1):c.indented+(g?0:C):c.indented+(/^(?:case|default)\b/.test(b)?C:2*C)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:D?null:"/*",blockCommentEnd:D?null:"*/",lineComment:D?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:D?"json":"javascript",jsonldMode:L,jsonMode:D}});p.registerHelper("wordChars",
"javascript",/[\w$]/);p.defineMIME("text/javascript","javascript");p.defineMIME("text/ecmascript","javascript");p.defineMIME("application/javascript","javascript");p.defineMIME("application/x-javascript","javascript");p.defineMIME("application/ecmascript","javascript");p.defineMIME("application/json",{name:"javascript",json:!0});p.defineMIME("application/x-json",{name:"javascript",json:!0});p.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});p.defineMIME("text/typescript",{name:"javascript",
typescript:!0});p.defineMIME("application/typescript",{name:"javascript",typescript:!0})});